<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: ThoughtSpot Demo Site</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">ThoughtSpot Demo Site</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="antora-test" data-version="dev">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">ThoughtSpot Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">About this release</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#release/notes.adoc">Release notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#release/downloads.adoc">Downloads</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">ThoughtSpot Documentation</span>
    <span class="version">dev</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ThoughtSpot Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">dev</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/mark-plummer/antora-test/edit/master/docs/modules/complex-search/pages/about-query-on-query.md.adoc">Edit this Page</a></div>
  </div>
<article class="doc">
<hr>
<div class="paragraph">
<p>title: [Understand views]</p>
</div>
<div class="paragraph">
<p>last_updated: 11/2/2018 summary: "If you want to search on top of another search, try saving your search as a view.
Then, you can use the saved view as a data source for a new search." sidebar: mydoc_sidebar permalink: /:collection/:path.html&#8201;&#8212;&#8201;</p>
</div>
<div class="sect1">
<h2 id="_introduction_to_views"><a class="anchor" href="#_introduction_to_views"></a>Introduction to views</h2>
<div class="sectionbody">
<div class="paragraph">
<p>{% include note.html content="Prior to ThoughtSpot version 5.0, Views were known as Aggregated Worksheets.
When you upgrade to version 5.0 or later versions, any pre-existing Aggregated Worksheets will be converted to Views for you automatically.
The functionality remains the same, but the name has changed." %}</p>
</div>
<div class="paragraph">
<p>You may have noticed that when you do a search on a data source, ThoughtSpot is only able to aggregate one column by one other column.
Because of this, you may come across searches you can&#8217;t do in one pass, because they are essentially nested queries.
But you can create the equivalent of nested queries using a view, which is an answer that you have saved for the purpose of building other searches on top of it.</p>
</div>
<div class="paragraph">
<p>You can use a view just like any other data source.
You can even link it to other sources by defining a relationship.
When you save an answer as a view, and then use it as a source in a new search, it is similar to doing a nested query in SQL, only much easier to create.</p>
</div>
<div class="paragraph">
<p>To create a view, you must belong to a group that has the privilege <strong>Can administer ThoughtSpot</strong> or <strong>Can manage data</strong>.
If you are not able to create views, contact your administrator and request the <strong>Can manage data</strong> privilege.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_view_workflow"><a class="anchor" href="#_view_workflow"></a>View workflow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Suppose you have created a search on the sales fact table that shows the top ten Sales Reps by revenue for the first quarter.
Then you want to do some further investigations on that set of data, like ranking them by how much they discounted a specific product using data from the orders fact table.
Unless you save your first answer as a view, certain explorations like this won&#8217;t be possible.
If you want to do this, here are the steps at a high level:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the first search, and link:{{ site.baseurl }}/complex-search/create-aggregated-worksheet.html#[save it as a view].</p>
</li>
<li>
<p>link:{{ site.baseurl }}/admin/data-modeling/create-new-relationship.html#[Create relationships] or link:{{ site.baseurl }}/admin/loading/constraints.html#[define joins] to connect your view with any other data sources you need.</p>
</li>
<li>
<p>Create a new search that includes your view and the other sources you linked with it.</p>
</li>
<li>
<p>You may want to link:{{ site.baseurl }}/admin/worksheets/about-worksheets.html#[create a new worksheet] that includes all these data sources.</p>
<div class="paragraph">
<p>Creating a worksheet will make it easier for people to search using your  view and any related tables.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_best_practices_for_using_views"><a class="anchor" href="#_best_practices_for_using_views"></a>Best practices for using views</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Only users with the link:{{ site.baseurl }}/admin/users-groups/about-users-groups.html[<strong>Can administrator ThoughtSpot</strong> or the <strong>Can manage data</strong> privilege] can create views and link them.
Users that create views should keep in mind best practices for creating a worksheet and the boundaries around the final worksheet size.</p>
</div>
<div class="paragraph">
<p>{% include note.html content="Views do not support row level security, so all users of a view will be able to see all the data it contains." %}</p>
</div>
<div class="paragraph">
<p>To be able to join a view with a base table, your installation must be configured to allow this.
The view cannot have more than 5 tables involved, and the number of rows in the view cannot be greater than 1000.</p>
</div>
<div class="paragraph">
<p>The order of the objects being linked (joined) matters, this is because joins are directional.
The table or view with the foreign key needs to occur in the first (left) position.
The table or view with the primary key should be in the second (right) position.</p>
</div>
<div class="paragraph">
<p>For the best performance, views should have 50 or fewer columns and no more than 10 million rows.
Exceeding these boundaries can make your view slow.
You can remedy this by materializing it.</p>
</div>
<div class="paragraph">
<p>You can use an ETL (extract, transform, load) process to circumvent these limitations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_related_information"><a class="anchor" href="#_related_information"></a>Related Information</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>link:{{ site.baseurl }}/complex-search/more-example-scenarios.html#[More view scenario examples]</p>
</li>
<li>
<p>link:{{ site.baseurl }}/complex-search/create-aggregated-worksheet.html#[Save a search as a view]</p>
</li>
<li>
<p>link:{{ site.baseurl }}/admin/loading/constraints.html#[Constraints]</p>
</li>
<li>
<p>link:{{ site.baseurl }}/admin/loading/materialized-views.html#[Materialized views]</p>
</li>
</ul>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
