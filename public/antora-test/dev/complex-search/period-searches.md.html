<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: ThoughtSpot Demo Site</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">ThoughtSpot Demo Site</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="antora-test" data-version="dev">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">ThoughtSpot Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">About this release</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#release/notes.adoc">Release notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#release/downloads.adoc">Downloads</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">ThoughtSpot Documentation</span>
    <span class="version">dev</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ThoughtSpot Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">dev</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/mark-plummer/antora-test/edit/master/docs/modules/complex-search/pages/period-searches.md.adoc">Edit this Page</a></div>
  </div>
<article class="doc">
<hr>
<div class="paragraph">
<p>title: [Time series analysis]</p>
</div>
<div class="paragraph">
<p>last_updated: tbd summary: "You can compare across time periods without using a formula." sidebar: mydoc_sidebar permalink: /:collection/:path.html&#8201;&#8212;&#8201;A <em>time series</em> is a set of data points ordered by time.
For example, within the same week a sale on Tuesday comes before a sale on Wednesday in such a data set.
You can use ThoughtSpot&#8217;s <em>time series analysis</em> feature to search for answers about series data.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/{{%20site.baseurl%20}}/images/period-drop.png" alt="period drop">
</div>
</div>
<div class="paragraph">
<p>You might use this feature to compare a time period across other time periods.
For examples sales for each month across several years.
You may also want to calculate an aspect such as growth over the same time period across other periods.
You can also do relative analysis such as sales for the last 3 months of each year across years.</p>
</div>
<div class="paragraph">
<p>You can use one or more of the following period keywords to create this type of analysis:</p>
</div>
<div class="sect1">
<h2 id="_period_keywords"><a class="anchor" href="#_period_keywords"></a>Period keywords</h2>
<div class="sectionbody">
<div class="paragraph">
<p>{% include content/keywords-period.md %}</p>
</div>
<div class="paragraph">
<p>All of these keywords sort the data using datetime semantics, that is chronologically in a time sequence.
By default, the <strong>Search</strong> bar suggests these keywords less frequently than others.</p>
</div>
<div class="paragraph">
<p>You can use these new keywords in combination with the existing data keywords which are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Detailed</code></p>
</li>
<li>
<p><code>Hourly</code></p>
</li>
<li>
<p><code>Daily</code></p>
</li>
<li>
<p><code>Weekly</code></p>
</li>
<li>
<p><code>Monthly</code></p>
</li>
<li>
<p><code>Quarterly</code></p>
</li>
<li>
<p><code>Yearly</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_of_time_series_analysis"><a class="anchor" href="#_examples_of_time_series_analysis"></a>Examples of time series analysis</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Typically, when you search for answers about series data, the visualizations that answer your questions are line charts.
These charts frequently but not always include a stack to indicate a period.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/{{%20site.baseurl%20}}/images/time-example1.png" alt="time example1">
</div>
</div>
<div class="paragraph">
<p>When you search for an aspect of data of time series, a typical response is a line chart showing the aspect as it rises and falls over time.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/{{%20site.baseurl%20}}/images/time-example2.png" alt="time example2">
</div>
</div>
<div class="paragraph">
<p>You can also add a relative date filter for example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre>total revenue quarterly yearly by year month(commit date) &gt;= 01/01/1995
month(commit date) before 01/01/1998</pre>
</div>
</div>
<div class="paragraph">
<p>This type of query also yields a stacked line chart:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/{{%20site.baseurl%20}}/images/time-example3.png" alt="time example3">
</div>
</div>
<div class="paragraph">
<p>The child date time attribute is on the X-axis and the parent in the legend.
For example, if you search <code>revenue month yearly</code> the child, <code>monthly</code>, appears on the x-axis and the parent, <code>yearly</code>, in the legend.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_granularity_for_date_filters"><a class="anchor" href="#_granularity_for_date_filters"></a>Granularity for date filters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can refine a simple date filters by adding hierarchical date filter to your query.
The ability to specify two bucket granularities such as "hour of day" or "week of year" are two examples.
The syntax of this type of query is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>small_bucket of big_bucket [INTEGER_CONDITION]</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>INTEGER_CONDITION</code> is optional but it must be an integer.
For example, this query is valid:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>revenue by day of week &lt;= 2</pre>
</div>
</div>
<div class="paragraph">
<p>This query is invalid:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>revenue by day of week = Tuesday</pre>
</div>
</div>
<div class="paragraph">
<p>You can specify one or more granular filters.</p>
</div>
<div class="paragraph">
<p>These tips and gotchas apply to time granularity:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The system-defined fiscal rules are respected.
This means, for example, if the fiscal year begins in February, <code>month of year = 2</code> matches dates in March.</p>
</li>
<li>
<p>Fiscal shorthands such as <code>Q1</code>, <code>Q2</code> and so on are not supported, so <code>day of week = d1</code> is not valid.</p>
</li>
<li>
<p><code>INTEGER_CONDITION</code> with <code>=</code> or <code>!=</code> accept a list of filter values, so, <code>day of week = 1 2 3</code> is valid.</p>
</li>
<li>
<p><code>INTEGER_CONDITION</code> with <code>=</code> or <code>!=</code> require legal values, so <code>day of week &gt;</code> accepts any integer on the right hand side while <code>day of week =</code> requires a value in the legal <code>1-7</code> range.</p>
</li>
<li>
<p>Simple date filters allow you to use edit the filter through the answer to refine your search, adding a a hierarchical date filter in the search bar disables this ability.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_create_a_maxdate_field_and_use_it_to_filter"><a class="anchor" href="#_create_a_maxdate_field_and_use_it_to_filter"></a>Create a max(date) field and use it to filter</h3>
<div class="paragraph">
<p>If you have a date field in your data set and want to return the most recent set of data based on a specific date, do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a formula called <code>Max Date</code>.</p>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> date = group_max ( date_to_filter_by )</pre>
</div>
</div>
</li>
<li>
<p>In the search bar, filter your dates by this formula.</p>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> max date = true</pre>
</div>
</div>
<div class="paragraph">
<p>This returns only those fields that pass the filter.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
