<!DOCTYPE html>
<html lang="en">
  <head>
<!--     <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Overview of aggregate formulas :: ThoughtSpot Demo Site</title>
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
 -->
<!-- begin couchbase banner logic -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Overview of aggregate formulas | ThoughtSpot Demo Site</title>
    <link rel="stylesheet" href="../../../_/css/site.css">
<!-- end couchbase banner logic -->
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img src="../../../_/img/company_logo_white.svg" alt="ThoughtSpot logo" height="47.42" width="158"/><!--ThoughtSpot Demo Site--></a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown">
          <!--<a class="navbar-link component" href="../index.html"><span class="title">ThoughtSpot Software</span> <span class="version">6.1</span></a> -->
          <div class="navbar-dropdown navbar-item">
            <div class="cols">
              <ul>
              </ul>
            </div>
          </div>
        </div>
        <!-- <a class="navbar-item" href="#">Home</a>
      <!--  <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div> -->
        <!--<div class="navbar-item">
          <span class="control"> -->
          <!--  <a class="button is-primary" href="#">Download</a> -->
<!--          </span>
        </div>
      </div>
    </div> -->
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ThoughtSpot" data-version="6.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">ThoughtSpot Software</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#enterprise:in-release.adoc">About this release</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/release-notes.html">Release notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/fixed-issues.html">Fixed issues</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/guides.html">Guides</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/downloads.html">Downloads</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../enterprise/user-introduction.html">Users</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#enterprise:getting-started.">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/log-in.html">Log into ThoughtSpot</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/getting-started-sidebar.html">Getting Started sidebar</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/navigating-thoughtspot.html">Finding your way around</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/user-profile.html">Your user profile and preferences</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/understanding-privileges.html">Understanding privileges</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/onboarding-experience.html">The onboarding experience</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/stickers.html">Organizing with Stickers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enterprise/search.html">Search</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enterprise/search-answers.html">Searches and Answers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/start-search.html">Start a new search</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/choosing-sources.html">Choose a data source</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-bar.html">Search bar features</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-recent.html">Search suggestions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#enterprise:seaerch-change-answers">Work with Answers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/attributes-and-measures.html">Search results and column types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-data-refresh-time.html">Last data refresh time</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/table-visuals.html">Results that are tables</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-keyword.html">Use keywords in search</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-period.html">Time series analysis</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-growth-over-time.html">Search using growth over time</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-subquery.html">Subquery or nested searches</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#enterprise:search-proximity.adoc">Proximity search</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enterprise/filters.html">Filtering search results</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#enterprise:filters-column-headers.adoc">Filters in tables</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/filter-chart-axes.html">Filters in charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/filter-bulk.html">Bulk filters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/filter-delete.html">Deleting filters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/filter-null.html">Filtering on null, blank, or empty values</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enterprise/search-actions.html">More search actions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#enterprise:search-change-display.adoc">Change result display options</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#enterprise:search-show-data.adoc">Show underlying data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-drill-down.html">See the search behind a result</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-conditional-formatting.html">Apply conditional formatting to a table</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-download.html">Download your search</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/search-replay.html">Replay search</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enterprise/expert-ask.html">Ask an Expert</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/expert-requests-manage.html">Manage Ask an Expert requests</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/expert-answer-retrieve.html">Retrieve Ask an Expert answers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/expert-question-answer.html">Answer an Ask an Expert question</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enterprise/charts.html">Charts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enterprise/chart-types.html">Chart types</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-column.html">Column charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-bar.html">Bar charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-line.html">Line charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-pie.html">Pie charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-area.html">Area charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-scatter.html">Scatter charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-bubble.html">Bubble charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-pareto.html">Pareto charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-waterfall.html">Waterfall charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-treemap.html">Treemap charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#enterprise:chart-line-column.adoc">Line column charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-funnel.html">Funnel charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-geo.html">Geo charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-pivot-table.html">Pivot table</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-sankey.html">Sankey charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-radar.html">Radar charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-candlestick.html">Candlestick charts</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enterprise/chart-configure.html">Changing charts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-configure-axes.html">Change axes options</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-configure-columns.html">Configure the columns</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-configure-rename.html">Rename columns and axes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-configure-reorder.html">Reorder labels</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-configure-axes-scale.html">Set the y-axis range</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#enterprise:chart-configure-dsplay-values.adoc">Display values</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-configure-colors.html">Change chart colors</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#enterprise:chart-configure-dsplay-labels.adoc">Display data labels</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#enterprise:chart-configure-dsplay-markers.adoc">Display data markers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#enterprise:chart-configure-dsplay-regression-lines.adoc">Display regression lines</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#enterprise:chart-configure-dsplay-gridlines.adoc">Display gridlines</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-configure-type-selection.html">Disable automatic chart type selection</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/chart-configure-zoom.html">Zoom into a chart</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enterprise/formula.html">Formulas</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/formula-search-add.html">Add a formula to a search</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/formula-search-edit.html">View or edit a formula in a search</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/formula-operators.html">Formula operators</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/formula-conversion.html">Conversion formulas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#enterprise:formula-data.adoc">Date formulas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/formula-percent.html">Percent (simple number) formulas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/formula-conditional-sum.html">Formula operators</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/formula-nested.html">Nested formulas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enterprise/formula-aggregate.html">Aggregate formulas</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/formula-aggregate-cumulative.html">Cumulative formulas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/formula-aggregate-moving.html">Moving formulas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/formula-aggregate-flexible.html">Flexible aggregation formulas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/formula-aggregate-group.html">Group aggregation formulas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/formula-aggregate-filtered.html">Filtered aggregation formulas</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enterprise/formula-chasm-trap.html">Formulas for chasm traps</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Work with worksheets</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/about-query-on-query.html">Understand worksheets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/create-aggregated-worksheet.html">Save a search as a worksheet</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/do-query-on-query.html">Create a search from a worksheet</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/more-example-scenarios.html">Worksheet example scenarios</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Use pinboards</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/about-pinboards.html">Basic pinboard usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/edit-the-layout-of-a-pinboard.html">Edit a pinboard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/pinboard-filters.html">Pinboard filters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/schedule-a-pinboard-job.html">Schedule a pinboard job</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/about-showing-underlying-data-from-within-a-pinboard.html">Search actions within a pinboard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/copy-a-pinboard.html">Copy a pinboard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/copy-link-for-a-pinboard.html">Copy a pinboard or visualization link</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/reset-a-visualization.html">Reset a pinboard or visualization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/start-a-slideshow.html">Start a slideshow</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Work with data</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/data-intro-end-user.html">Understand data sources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/generate-flat-file.html">Create and load CSV files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/append-data-from-a-web-browser.html">Append data through the UI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/view-your-data-profile.html">View a data profile</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/locale.html">Date and currency format settings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SpotIQ</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/whatisspotiq.html">What is SpotIQ</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/overview.html">101:Load and analyze data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/work-with-insights.html">101:Review and save insights</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/spotiq-customize.html">101:Do more with SpotIQ</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/special-topics.html">Best SpotIQ Practices</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/customization.html">Custom SpotIQ analysis</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/adv-customize-withr.html">Advanced R Customizations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Share your work</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/sharing-for-end-users.html">About sharing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/share-pinboards.html">Share pinboards</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/share-answers.html">Share answers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/share-user-imported-data.html">Share uploaded data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../end-user/unshare.html">Revoke access (unshare)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Slack and ThoughtSpot</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/intro.html">Slack and Spot</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../end-user/use-spot.html">How to use Spot</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../end-user/what-you-can-find-in-the-help-center.html">More help and support</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#disaster-recovery:about-disaster-recovery.md.adoc">Disaster Recovery</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">References</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#enterprise:supported-browsers">Supported web browsers</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">

  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ThoughtSpot Software</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">6.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article"  data-ceiling="topbar">
  <!--   <div class="article-header"> -->
<!-- <button class="nav-control"></button>
 -->
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">ThoughtSpot Software</a></li>
    <li><a href="aggregation-formulas.html">Overview of aggregate formulas</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Overview of aggregate formulas</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>When working with formulas, it is useful to understand the difference between regular (or row-wise) formulas and aggregation formulas.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_standard_and_aggregation_formulas"><a class="anchor" href="#_standard_and_aggregation_formulas"></a>Standard and aggregation formulas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Formulas can be broken down into two types: standard formulas and aggregation formulas.
Standard formulas act on individual rows and return one result per row.
Standard formulas use functions like:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>add</code></p>
</li>
<li>
<p><code>subtract</code></p>
</li>
<li>
<p><code>multiply</code></p>
</li>
<li>
<p><code>divide</code></p>
</li>
<li>
<p><code>contains</code></p>
</li>
<li>
<p><code>if...then...else</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Aggregation formulas combine rows together and return a single result for a group of rows.
Some examples of functions you find in aggregation formulas are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>average</code></p>
</li>
<li>
<p><code>cumulative_sum</code></p>
</li>
<li>
<p><code>moving_average</code></p>
</li>
<li>
<p><code>stddev</code> (standard deviation)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can tell which formulas are aggregation formulas by looking at the function list in the <strong>Formula Assistant</strong>.
Aggregation functions have their own section.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/formula_asst_aggregate.png" alt="formula asst aggregate">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_advanced_aggregation_functions"><a class="anchor" href="#_advanced_aggregation_functions"></a>Advanced aggregation functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some more advanced aggregation functions are widely used in business intelligence, since they provide better insight into data.
Some of the more advanced aggregation functions are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="about-pinned-measures.html" class="page">Group aggregation functions</a> apply a specific aggregate to a value, and group the results by an attribute in the data.</p>
</li>
<li>
<p><a href="about-cumulative-formulas.html" class="page">Cumulative functions</a> measure from the start of your data to the current point.
They&#8217;re often applied on time-based data.</p>
</li>
<li>
<p><a href="about-moving-formulas.html" class="page">Moving formulas</a> measure within a window (usually time-based) that you define.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Data from any rows that are not included in the search result will not be incorporated, and you cannot create a filter on aggregated data.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_flexible_aggregation"><a class="anchor" href="#_flexible_aggregation"></a>Flexible aggregation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>group_aggregate</code> function makes it possible to aggregate measures at granularities that are different from the dimensions or column groupings used in the search.</p>
</div>
<div class="paragraph">
<p>See <a href="aggregation-flexible.html" class="page">Flexible aggregation</a> to learn more about working with this formula.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_division_with_aggregation_in_a_search"><a class="anchor" href="#_using_division_with_aggregation_in_a_search"></a>Using division with aggregation in a search</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Whenever your search result combines rows, your formula will get aggregated automatically.
For example, if your search contains words like "region", "monthly", or "department", the results will be grouped (aggregated) by that category.
The administrator can change the default aggregation that gets applied through a configuration, and you can also change it using the dropdown list in the column header of the search result.</p>
</div>
<div class="paragraph">
<p>For example, this search would typically return a sum of total sales by department:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sum sales department</pre>
</div>
</div>
<div class="paragraph">
<p>This search would return an average of sales by month:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>average sales monthly</pre>
</div>
</div>
<div class="paragraph">
<p>When you&#8217;re using division in your formula, and the search is aggregated like this, you may have to change the order of operations to get the result you expect.
This is best understood by using a real world example.</p>
</div>
<div class="paragraph">
<p>Suppose you want to calculate the gross margin by department for a grocery store.
The formula for gross margin is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>profit / sales</pre>
</div>
</div>
<div class="paragraph">
<p>But if you use that as your formula, you won&#8217;t get the expected calculation.
Why?
It&#8217;s because the formula will be evaluated in this order: For each row, divide profit by sales and then total up all the results.
As you can see, the results do not look like gross margin values, which should be between 0 and 1.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/formula_gross_margin_no_sum.png" alt="formula gross margin no sum">
</div>
</div>
<div class="paragraph">
<p>Instead, you&#8217;d need to use a formula that uses the order of operations you want:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sum (profit) / sum (sales)</pre>
</div>
</div>
<div class="paragraph">
<p>Now the result is as expected, because the formula totals the profits for all rows, and then divides that by the total of sales for all rows, returning an average gross margin:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/formula_gross_margin_sum.png" alt="formula gross margin sum">
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <ul>
          <li><a href="https://training.thoughtspot.com/" target="_blank" rel="noopener">Training</a></li>
          <li><a href="https://community.thoughtspot.com/" target="_blank" rel="noopener">Community</a></li>
          <li><a href="https://www.thoughtspot.com/" target="_blank" rel="noopener">ThoughtSpot.com</a></li>
	</ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/ThoughtSpot/" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/ThoughtSpot/" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/thoughtspot/" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>&copy;2020 ThoughtSpot, Inc. All rights reserved.</span>
      <a href="https://www.thoughtspot.com/privacy-policy">Privacy Statement</a>
      <a href="https://www.thoughtspot.com/support">Support</a>
      <a href="https://www.thoughtspot.com/thoughtspot-website-terms-use">Terms of Use</a>
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
